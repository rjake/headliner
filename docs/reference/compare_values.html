<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='A function to create "talking points" that
describes the difference between two values.'><title>Compare two values and get talking points — compare_values • headliner</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compare two values and get talking points — compare_values"><meta property="og:description" content='A function to create "talking points" that
describes the difference between two values.'><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">headliner</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro.html">Introduction to headliner</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rjake/headliner/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Compare two values and get talking points</h1>
      <small class="dont-index">Source: <a href="https://github.com/rjake/headliner/blob/HEAD/R/compare-values.R" class="external-link"><code>R/compare-values.R</code></a></small>
      <div class="d-none name"><code>compare_values.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A function to create "talking points" that
describes the difference between two values.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">compare_values</span><span class="op">(</span>
  <span class="va">x</span>,
  <span class="va">y</span>,
  trend_phrases <span class="op">=</span> <span class="fu">headliner</span><span class="fu">::</span><span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span><span class="op">)</span>,
  orig_values <span class="op">=</span> <span class="st">"{x} vs. {y}"</span>,
  plural_phrases <span class="op">=</span> <span class="cn">NULL</span>,
  n_decimal <span class="op">=</span> <span class="fl">1</span>,
  round_all <span class="op">=</span> <span class="cn">TRUE</span>,
  multiplier <span class="op">=</span> <span class="fl">1</span>,
  check_rounding <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>a numeric value to compare to the reference value of 'y'</p></dd>
<dt>y</dt>
<dd><p>a numeric value to act as a control for the 'x' value</p></dd>
<dt>trend_phrases</dt>
<dd><p>list of values to use for when x is more than y
or x is less than y. You can pass it just
<code><a href="trend_terms.html">trend_terms</a></code> (the default) and call the result with
<code>"...{trend}..."</code> or pass is a named list (see examples)</p></dd>
<dt>orig_values</dt>
<dd><p>a string using <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax.
example: <code>({x} vs {y})</code></p></dd>
<dt>plural_phrases</dt>
<dd><p>named list of values to use when difference (delta) is
singular (delta = 1) or plural (delta != 1)</p></dd>
<dt>n_decimal</dt>
<dd><p>numeric value to limit the number of decimal places in
the returned values.</p></dd>
<dt>round_all</dt>
<dd><p>logical value to indicate if all values should be rounded.
When FALSE, the values will return with no modification. When TRUE (default)
all values will be round to the length specified by 'n_decimal'.</p></dd>
<dt>multiplier</dt>
<dd><p>number indicating the scaling factor. When multiplier = 1
(default), 0.25 will return 0.25. When multiplier = 100, 0.25 will return 25.</p></dd>
<dt>check_rounding</dt>
<dd><p>when TRUE (default) inputs will be checked to confirm if
a difference of zero may be due to rounding. Ex: 0.16 and 0.24 with
'n_decimal = 1' will both return 0.2. Because this will show no difference,
a message will be displayed</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>compare_values()</code> returns a list object that can be used with
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Given <code>compare_values(x = 8, y = 10)</code> the following items will be returned
in the list:</p><table class="table table"><tr><td>item</td><td>value</td><td>description</td></tr><tr><td><code>x</code></td><td>2</td><td>original <code>x</code> value to compare against <code>y</code></td></tr><tr><td><code>y</code></td><td>10</td><td>original <code>y</code> value</td></tr><tr><td><code>delta</code></td><td>8</td><td>absolute difference between <code>x</code> &amp; <code>y</code></td></tr><tr><td><code>delta_p</code></td><td>80</td><td>% difference between <code>x</code> &amp; <code>y</code></td></tr><tr><td><code>article_delta</code></td><td>"an 8"</td><td><code>delta</code> with the article included</td></tr><tr><td><code>article_delta_p</code></td><td>"an 80"</td><td><code>delta_p</code> with the article included</td></tr><tr><td><code>raw_delta</code></td><td>-8</td><td>true difference between <code>x</code> &amp; <code>y</code></td></tr><tr><td><code>raw_delta_p</code></td><td>-80</td><td>true % difference between <code>x</code> &amp; <code>y</code></td></tr><tr><td><code>article_raw_delta</code></td><td>"a -8"</td><td><code>raw_delta</code> with the article</td></tr><tr><td><code>article_raw_delta_p</code></td><td>"a -80"</td><td><code>raw_delta_p</code> with the article</td></tr><tr><td><code>sign</code></td><td>-1</td><td>the direction, 1 (increase), -1 (decrease), or 0 (no change)</td></tr><tr><td><code>orig_values</code></td><td>"2 vs. 10"</td><td>shorthand for <code>{x} vs {y}</code></td></tr><tr><td><code>trend</code></td><td>"decrease"</td><td>influenced by the values in <code>trend_phrases</code> argument</td></tr></table></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="headline.html">headline()</a></code>, <code><a href="trend_terms.html">trend_terms()</a></code>, <code><a href="plural_phrasing.html">plural_phrasing()</a></code> and <code><a href="view_list.html">view_list()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># the values can be manually entered</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="co"># percent difference (10-8)/8</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span><span class="op">)</span><span class="op">$</span><span class="va">delta_p</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 25</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># trend_phrases returns an object called trend if nothing is passed</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span><span class="op">)</span><span class="op">$</span><span class="va">trend</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "increase"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># or if one argument is passed using trend_terms()</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span>, trend_phrases <span class="op">=</span> <span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span>more <span class="op">=</span> <span class="st">"higher"</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">trend</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "higher"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># if a named list is used, the objects are called by their names</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span></span>
<span class="r-in">  <span class="fl">10</span>, <span class="fl">8</span>,</span>
<span class="r-in">  trend_phrases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">    more <span class="op">=</span> <span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span class="r-in">    higher <span class="op">=</span> <span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span><span class="st">"higher"</span>, <span class="st">"lower"</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span><span class="op">$</span><span class="va">higher</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "higher"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># a phrase about the comparison can be edited by providing glue syntax</span></span>
<span class="r-in"><span class="co"># 'c' = the 'compare' value, 'r' = 'reference'</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span>, orig_values <span class="op">=</span> <span class="st">"{x} to {y} people"</span><span class="op">)</span><span class="op">$</span><span class="va">orig_values</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 to 8 people</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># you can also adjust the rounding, although the default is 1</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">0.1234</span>, <span class="fl">0.4321</span><span class="op">)</span><span class="op">$</span><span class="va">orig_values</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1 vs. 0.4</span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">0.1234</span>, <span class="fl">0.4321</span>, n_decimal <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">$</span><span class="va">orig_values</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.123 vs. 0.432</span>
<span class="r-in"><span class="co"># or add a multiplier</span></span>
<span class="r-in"><span class="fu">compare_values</span><span class="op">(</span><span class="fl">0.1234</span>, <span class="fl">0.4321</span>, multiplier <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">$</span><span class="va">orig_values</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12.3 vs. 43.2</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jake Riley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

