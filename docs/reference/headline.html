<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compose phrases that describe differences in the data — headline • headliner</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compose phrases that describe differences in the data — headline"><meta property="og:description" content="Compose phrases that describe differences in the data"><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">headliner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro.html">Introduction to headliner</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rjake/headliner/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compose phrases that describe differences in the data</h1>
    <small class="dont-index">Source: <a href="https://github.com/rjake/headliner/blob/HEAD/R/headline.R" class="external-link"><code>R/headline.R</code></a></small>
    <div class="hidden name"><code>headline.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compose phrases that describe differences in the data</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">headline</span><span class="op">(</span>
  <span class="va">x</span>,
  <span class="va">y</span>,
  headline <span class="op">=</span> <span class="st">"{trend} of {delta} ({orig_values})"</span>,
  <span class="va">...</span>,
  if_match <span class="op">=</span> <span class="st">"There was no difference."</span>,
  trend_phrases <span class="op">=</span> <span class="fu">headliner</span><span class="fu">::</span><span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span><span class="op">)</span>,
  plural_phrases <span class="op">=</span> <span class="cn">NULL</span>,
  orig_values <span class="op">=</span> <span class="st">"{x} vs. {y}"</span>,
  n_decimal <span class="op">=</span> <span class="fl">1</span>,
  round_all <span class="op">=</span> <span class="cn">TRUE</span>,
  multiplier <span class="op">=</span> <span class="fl">1</span>,
  return_data <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>

<span class="fu">headline_list</span><span class="op">(</span>
  <span class="va">l</span>,
  headline <span class="op">=</span> <span class="st">"{trend} of {delta} ({orig_values})"</span>,
  <span class="va">x</span>,
  <span class="va">y</span>,
  <span class="va">...</span>,
  if_match <span class="op">=</span> <span class="st">"There was no difference."</span>,
  trend_phrases <span class="op">=</span> <span class="fu">headliner</span><span class="fu">::</span><span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span><span class="op">)</span>,
  plural_phrases <span class="op">=</span> <span class="cn">NULL</span>,
  orig_values <span class="op">=</span> <span class="st">"{x} vs. {y}"</span>,
  n_decimal <span class="op">=</span> <span class="fl">1</span>,
  round_all <span class="op">=</span> <span class="cn">TRUE</span>,
  multiplier <span class="op">=</span> <span class="fl">1</span>,
  return_data <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a numeric value to compare to the reference value of 'y'</p></dd>
<dt>y</dt>
<dd><p>a numeric value to act as a control for the 'x' value</p></dd>
<dt>headline</dt>
<dd><p>a string to format the final output. Uses
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax</p></dd>
<dt>...</dt>
<dd><p>arguments passed to <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue_data</a></code></p></dd>
<dt>if_match</dt>
<dd><p>string to display if numbers match, uses
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax</p></dd>
<dt>trend_phrases</dt>
<dd><p>list of values to use for when y is more than x, y is the
same as x, or y is less than x. You can pass it just
<code><a href="trend_terms.html">trend_terms</a></code> (the default) and call the result with
<code>"...{trend}..."</code> or pass is a named list (see examples)</p></dd>
<dt>plural_phrases</dt>
<dd><p>named list of values to use when difference (delta) is
singular (delta = 1) or plural (delta != 1)</p></dd>
<dt>orig_values</dt>
<dd><p>a string using <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax.
example: <code>({x} vs {y})</code></p></dd>
<dt>n_decimal</dt>
<dd><p>numeric value to limit the number of decimal places in
the returned values.</p></dd>
<dt>round_all</dt>
<dd><p>logical value to indicate if all values should be rounded.
When FALSE, the values will return with no modification. When TRUE (default)
all values will be round to the length specified by 'n_decimal'.</p></dd>
<dt>multiplier</dt>
<dd><p>number indicating the scaling factor. When multiplier = 1
(default), 0.25 will return 0.25. When multiplier = 100, 0.25 will return 25.</p></dd>
<dt>return_data</dt>
<dd><p>logical to indicate whether function should return the
phrase components used to compose the headline</p></dd>
<dt>l</dt>
<dd><p>a list with values to compare, if named, can call by name</p></dd>
</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="compare_values.html">compare_values()</a></code>, <code><a href="trend_terms.html">trend_terms()</a></code>, and <code><a href="add_article.html">add_article()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># values can be manually entered, some headlines are provided by default</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "increase of 2 (10 vs. 8)"</span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">8</span>, <span class="fl">10</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decrease of 2 (8 vs. 10)"</span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decrease of 2 (1 vs. 3)"  "There was no difference."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "increase of 2 (3 vs. 1)" </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># most likely you'll edit the headline by hand</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span></span>
<span class="r-in">  x <span class="op">=</span> <span class="fl">10</span>,</span>
<span class="r-in">  y <span class="op">=</span> <span class="fl">8</span>,</span>
<span class="r-in">  headline <span class="op">=</span> <span class="st">"There was a ${delta} {trend} vs last year"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "There was a $2 increase vs last year"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># you can also adjust the phrasing of higher/lower values</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span></span>
<span class="r-in">  x <span class="op">=</span> <span class="fl">10</span>,</span>
<span class="r-in">  y <span class="op">=</span> <span class="fl">8</span>,</span>
<span class="r-in">  headline <span class="op">=</span> <span class="st">"Group A was {trend} by {delta_p}%."</span>,</span>
<span class="r-in">  trend_phrases <span class="op">=</span> <span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span>more <span class="op">=</span> <span class="st">"higher"</span>, less <span class="op">=</span> <span class="st">"lower"</span><span class="op">)</span></span>
<span class="r-in"> <span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Group A was higher by 25%."</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># a phrase about the comparion can be edited by providing glue syntax</span></span>
<span class="r-in"><span class="co"># 'c' = the 'compare' value, 'r' = 'reference'</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span>, orig_values <span class="op">=</span> <span class="st">"{x} to {y} people"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "increase of 2 (10 to 8 people)"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># you can also add phrases for when the difference = 1 or not</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span></span>
<span class="r-in">  x <span class="op">=</span> <span class="fl">10</span>,</span>
<span class="r-in">  y <span class="op">=</span> <span class="fl">8</span>,</span>
<span class="r-in">  plural_phrases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">    were <span class="op">=</span> <span class="fu"><a href="plural_phrasing.html">plural_phrasing</a></span><span class="op">(</span>single <span class="op">=</span> <span class="st">"was"</span>, multi <span class="op">=</span> <span class="st">"were"</span><span class="op">)</span>,</span>
<span class="r-in">    people <span class="op">=</span> <span class="fu"><a href="plural_phrasing.html">plural_phrasing</a></span><span class="op">(</span>single <span class="op">=</span> <span class="st">"person"</span>, multi <span class="op">=</span> <span class="st">"people"</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span>,</span>
<span class="r-in">  headline <span class="op">=</span> <span class="st">"there {were} {delta} {people}"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "there were 2 people"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># you can also adjust the rounding, the default is 1</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">0.1234</span>, <span class="fl">0.4321</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decrease of 0.3 (0.1 vs. 0.4)"</span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">0.1234</span>, <span class="fl">0.4321</span>, n_decimal <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decrease of 0.309 (0.123 vs. 0.432)"</span>
<span class="r-in"><span class="co"># or use a multiplier</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span><span class="fl">0.1234</span>, <span class="fl">0.4321</span>, multiplier <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decrease of 30.9 (12.3 vs. 43.2)"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># there are many components you can assemble</span></span>
<span class="r-in"><span class="fu">headline</span><span class="op">(</span></span>
<span class="r-in">  x <span class="op">=</span> <span class="fl">16</span>,</span>
<span class="r-in">  y <span class="op">=</span> <span class="fl">8</span>,</span>
<span class="r-in">  headline <span class="op">=</span> <span class="st">"there was {article_delta_p}% {trend}, \\</span>
<span class="r-in">  {add_article(trend)} of {delta} ({orig_values})"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "there was a 100% increase, an increase of 8 (16 vs. 8)"</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># compare_conditions() and compare_columns() produce lists that can be</span></span>
<span class="r-in"><span class="co"># passed to headline_list()</span></span>
<span class="r-in"><span class="va">flights_jfk</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="compare_conditions.html">compare_conditions</a></span><span class="op">(</span></span>
<span class="r-in">    x <span class="op">=</span> <span class="op">(</span><span class="va">hour</span> <span class="op">&gt;</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="op">(</span><span class="va">hour</span> <span class="op">&lt;=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="va">dep_delay</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">headline_list</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "increase of 11.5 (14 vs. 2.6)"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># if you have more than 2 list items, you can specify them by name</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">  x <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in">  y <span class="op">=</span> <span class="fl">2</span>,</span>
<span class="r-in">  z <span class="op">=</span> <span class="fl">3</span></span>
<span class="r-in"> <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">headline_list</span><span class="op">(</span></span>
<span class="r-in">    x <span class="op">=</span> <span class="va">x</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="va">z</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decrease of 2 (1 vs. 3)"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jake Riley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

