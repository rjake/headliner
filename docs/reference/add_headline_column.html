<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Add column of headlines — add_headline_column • headliner</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Add column of headlines — add_headline_column"><meta property="og:description" content="Add column of headlines"><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">headliner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro.html">Introduction to headliner</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rjake/headliner/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add column of headlines</h1>
    <small class="dont-index">Source: <a href="https://github.com/rjake/headliner/blob/HEAD/R/add-headline-column.R" class="external-link"><code>R/add-headline-column.R</code></a></small>
    <div class="hidden name"><code>add_headline_column.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add column of headlines</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">add_headline_column</span><span class="op">(</span>
  <span class="va">df</span>,
  <span class="va">x</span>,
  <span class="va">y</span>,
  headline <span class="op">=</span> <span class="st">"{trend} of {delta} ({orig_values})"</span>,
  <span class="va">...</span>,
  .name <span class="op">=</span> <span class="st">"headline"</span>,
  if_match <span class="op">=</span> <span class="st">"There was no difference."</span>,
  trend_phrases <span class="op">=</span> <span class="fu">headliner</span><span class="fu">::</span><span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span><span class="op">)</span>,
  plural_phrases <span class="op">=</span> <span class="cn">NULL</span>,
  orig_values <span class="op">=</span> <span class="st">"{x} vs. {y}"</span>,
  n_decimal <span class="op">=</span> <span class="fl">1</span>,
  round_all <span class="op">=</span> <span class="cn">TRUE</span>,
  multiplier <span class="op">=</span> <span class="fl">1</span>,
  return_cols <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df</dt>
<dd><p>data frame, must be a single row</p></dd>
<dt>x</dt>
<dd><p>a numeric value to compare to the reference value of 'y'</p></dd>
<dt>y</dt>
<dd><p>a numeric value to act as a control for the 'x' value</p></dd>
<dt>headline</dt>
<dd><p>a string to format the final output. Uses
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax</p></dd>
<dt>...</dt>
<dd><p>arguments passed to <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue_data</a></code></p></dd>
<dt>.name</dt>
<dd><p>string value for the name of the new column to create</p></dd>
<dt>if_match</dt>
<dd><p>string to display if numbers match, uses
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax</p></dd>
<dt>trend_phrases</dt>
<dd><p>list of values to use for when y is more than x, y is the
same as x, or y is less than x. You can pass it just
<code><a href="trend_terms.html">trend_terms</a></code> (the default) and call the result with
<code>"...{trend}..."</code> or pass is a named list (see examples)</p></dd>
<dt>plural_phrases</dt>
<dd><p>named list of values to use when difference (delta) is
singular (delta = 1) or plural (delta != 1)</p></dd>
<dt>orig_values</dt>
<dd><p>a string using <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></code> syntax.
example: <code>({x} vs {y})</code></p></dd>
<dt>n_decimal</dt>
<dd><p>numeric value to limit the number of decimal places in
the returned values.</p></dd>
<dt>round_all</dt>
<dd><p>logical value to indicate if all values should be rounded.
When FALSE, the values will return with no modification. When TRUE (default)
all values will be round to the length specified by 'n_decimal'.</p></dd>
<dt>multiplier</dt>
<dd><p>number indicating the scaling factor. When multiplier = 1
(default), 0.25 will return 0.25. When multiplier = 100, 0.25 will return 25.</p></dd>
<dt>return_cols</dt>
<dd><p>arguments that can be passed to
<code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></code>, ex: c("a", "b"),
<code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></code>,etc.</p></dd>
</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># You can use 'add_headline_column()' instead of</span></span>
<span class="r-in"><span class="co"># `mutate(headline = map2_chr(...))`</span></span>
<span class="r-in"><span class="co"># here is an example comparing the sleeping habits of animals</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">animal_sleep</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">common_name</span>, <span class="va">hours_asleep</span>, <span class="va">hours_awake</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">add_headline_column</span><span class="op">(</span></span>
<span class="r-in">    x <span class="op">=</span> <span class="va">hours_asleep</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="va">hours_awake</span>,</span>
<span class="r-in">    headline <span class="op">=</span> <span class="st">"The {common_name} spends {delta} more {hours} {trend} than not {trend}."</span>,</span>
<span class="r-in">    trend_phrases <span class="op">=</span> <span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span>more <span class="op">=</span> <span class="st">"asleep"</span>, less <span class="op">=</span> <span class="st">"awake"</span><span class="op">)</span>,</span>
<span class="r-in">    plural_phrases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hours <span class="op">=</span> <span class="fu"><a href="plural_phrasing.html">plural_phrasing</a></span><span class="op">(</span>single <span class="op">=</span> <span class="st">"hour"</span>, multi <span class="op">=</span> <span class="st">"hours"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="st">"pandoc"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> common_name                  hours_asleep   hours_awake  headline                                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------  -------------  ------------  --------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> African Elephant                      3.3          20.7  The African Elephant spends 17.4 more hours awake than not awake.         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> African Giant Pouched Rat             8.3          15.7  The African Giant Pouched Rat spends 7.4 more hours awake than not awake. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Arctic Fox                           12.5          11.5  The Arctic Fox spends 1 more hour asleep than not asleep.                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Arctic Ground Squirrel               16.6           7.4  The Arctic Ground Squirrel spends 9.2 more hours asleep than not asleep.  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Asian Elephant                        3.9          20.1  The Asian Elephant spends 16.2 more hours awake than not awake.           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Baboon                                9.4          14.6  The Baboon spends 5.2 more hours awake than not awake.                    </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># you can also use 'return_cols' to return any and all "talking points".</span></span>
<span class="r-in"><span class="co"># You can use tidyselect helpers like 'starts_with("delta")' or</span></span>
<span class="r-in"><span class="co"># 'everything()'. In this example, I returned the delta &amp; trend columns</span></span>
<span class="r-in"><span class="co"># and identified the rows at the extremes</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">animal_sleep</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">common_name</span>, <span class="va">hours_asleep</span>, <span class="va">hours_awake</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">add_headline_column</span><span class="op">(</span></span>
<span class="r-in">    x <span class="op">=</span> <span class="va">hours_asleep</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="va">hours_awake</span>,</span>
<span class="r-in">    headline <span class="op">=</span> <span class="st">"more time {trend} ({orig_values} hours)"</span>,</span>
<span class="r-in">    trend_phrases <span class="op">=</span> <span class="fu"><a href="trend_terms.html">trend_terms</a></span><span class="op">(</span>more <span class="op">=</span> <span class="st">"alseep"</span>, less <span class="op">=</span> <span class="st">"awake"</span><span class="op">)</span>,</span>
<span class="r-in">    return_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"delta"</span>, <span class="st">"trend"</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">delta</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">delta</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="st">"pandoc"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> common_name         hours_asleep   hours_awake  headline                                  delta  trend  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------  -------------  ------------  ---------------------------------------  ------  -------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> African Elephant             3.3          20.7  more time awake (3.3 vs. 20.7 hours)       17.4  awake  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Arctic Fox                  12.5          11.5  more time alseep (12.5 vs. 11.5 hours)      1.0  alseep </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jake Riley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

